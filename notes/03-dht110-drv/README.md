# DHT11 驱动
> 目标： 完成 DHT11 模块驱动， 实现温度和湿度的读取

## 1. 实现流程
基于原始的裸GPIO驱动方式，DHT11 控制方式是通过一个GPIO 来实现，需要先申请GPIO资源，然后设置GPIO方向和模式，最后读取/设置GPIO值。
### 1.1 DHT11 控制流程
1. 主机将对应的 GPIO 管脚配置为输出，准备写入数据；
2. 主机发送一个开始信号(一个低脉冲(18ms) + 一个高脉冲(20-40us))
3. 主机将对应的 GPIO 管脚配置为输入， 准备接收数据；
4. DHT11 发送响应信号(一个低脉冲(80us) + 一个高脉冲(80us));
5. DHT11 发送数据
    0: 50us 低 + 26~28us 高
    1: 50us 低 + 70us 高
6. DHT11 发送结束信号
  DHT11 拉低总线 50us, 然后释放总线，总线进入空闲状态，高电平
  
## 2. 信息确认
根据硬件电路，确认芯片引脚，GPIO 组，GPIO 号，引脚方向，引脚模式，引脚值。
根据DHT11 接口情况，只需要一个GPIO， 我这里使用的是扩展接口3脚，对应的SoC PE11, 
详细信息如下：
`pin 139 (PE11): input bias disabled, output drive strength (20 mA)`

## 3. 代码思路
### 3.1 拆解步骤
按照上面的控制流程大致可以分为以下步骤：
1）发送开始信号
* 配置GPIO为输出
* 拉低 18ms
* 拉高 30 us
* 切换GPIO 为输入
2）等待响应信号
按照协议，检测
* 低 80us
* 高 80us
代码要等待，这里就需要用定时器了；
3） 读取数据
这个有个问题，要读多少个字节？，感觉文档没介绍，等会在确认；
拆解位 一位数据读取
* 先等待 50us 低电平
* 读到高电平开始计时，得到电平的宽度
* 根据电平宽度判断数据是0还是1
4）等待结束信号
* 低50us
* 高

问题： 怎么没有数据校验过程？


